shape = Analysis),
size = 3)+
scale_linetype_manual(values=c("solid", "solid","solid")) +
scale_color_manual(values = c("gray50","gray50","gray50")) +
scale_shape_manual(values = c(3, 5, 6))
non_data_small = subset(non_data, Effect=="Small")
a3 = ggplot(non_data_small) +
geom_line(aes(x=N,
y=value,
group = Analysis,
linetype = Analysis,
colour = Analysis),
size=0.75) +
labs(title="Small Effects") +
coord_cartesian(ylim = c(0,101)) +
ylab("Percent Non-Significant") +
xlab("log(N)") +
cleanup +
geom_point(data=non_data_small,
aes(x = N,
y = value,
shape = Analysis),
size = 3)+
scale_linetype_manual(values=c("solid", "solid","solid")) +
scale_color_manual(values = c("gray50","gray50","gray50")) +
scale_shape_manual(values = c(3, 5, 6))
non_data_none = subset(non_data, Effect=="None")
a4 = ggplot(non_data_none) +
geom_line(aes(x=N,
y=value,
group = Analysis,
linetype = Analysis,
colour = Analysis),
size=0.75) +
labs(title="Negligible Effects") +
coord_cartesian(ylim = c(0,101)) +
ylab("Percent Non-Significant") +
xlab("log(N)") +
cleanup +
geom_point(data=non_data_none,
aes(x = N,
y = value,
shape = Analysis),
size = 3)+
scale_linetype_manual(values=c("solid", "solid","solid")) +
scale_color_manual(values = c("gray50","gray50","gray50")) +
scale_shape_manual(values = c(3, 5, 6))
####put the graphs together####
legend = get_legend(a1)
arow <- plot_grid( a4 + theme(legend.position="none"),
a3 + theme(legend.position="none"),
a2 + theme(legend.position="none"),
a1 + theme(legend.position=c(.6, .25)),
hjust = -1,
nrow = 2
)
arow
agree = read.csv("Graph_data_agree.05.csv")
agree2 = read.csv("Graph_data_agree.005.csv")
agree_together = cbind(agree, agree2[ , -c(1:2)])
colnames(agree_together) = c("effect", "N", "omnibus.05",
"onetotwo.05", "twotothree.05",
"omnibus.005", "onetotwo.005",
"twotothree.005")
agreelong = melt(agree_together,
id = c("effect", "N"))
colnames(agreelong)[3:4] = c("comparison", "percent")
##log n to get a better graph
agreelong$N = log(agreelong$N)
##just omnibus tests
agreelong = subset(agreelong, comparison == "omnibus.05" |
comparison == "omnibus.005")
agree_large = subset(agreelong, effect == "Large")
w1 = ggplot(agree_large) +
geom_line(aes(x=N,
y=percent,
group = comparison,
linetype = comparison,
colour = comparison),
size=0.75) +
labs(title="Large Effects") +
coord_cartesian(ylim = c(0,101)) +
ylab("Percent Agreement") +
xlab("log(N)") +
cleanup +
geom_point(data=agree_large,
aes(x = N,
y = percent,
shape = comparison),
size = 4) +
scale_linetype_manual(name = "Comparison",
labels = c(".05", ".005"),
values=c("solid","solid")) +
scale_color_manual(name = "Comparison",
labels = c(".05", ".005"),
values = c("gray50","gray50")) +
scale_shape_manual(name = "Comparison",
labels = c(".05", ".005"),
values = c(3, 4))
agree_medium = subset(agreelong, effect == "Medium")
w2 = ggplot(agree_medium) +
geom_line(aes(x=N,
y=percent,
group = comparison,
linetype = comparison,
colour = comparison),
size=0.75) +
labs(title="Medium Effects") +
coord_cartesian(ylim = c(0,101)) +
ylab("Percent Agreement") +
xlab("log(N)") +
cleanup +
geom_point(data=agree_medium,
aes(x = N,
y = percent,
shape = comparison),
size = 4) +
scale_linetype_manual(name = "Comparison",
labels = c(".05", ".005"),
values=c("solid","solid")) +
scale_color_manual(name = "Comparison",
labels = c(".05", ".005"),
values = c("gray50","gray50")) +
scale_shape_manual(name = "Comparison",
labels = c(".05", ".005"),
values = c(3, 4))
agree_small = subset(agreelong, effect == "Small")
w3 = ggplot(agree_small) +
geom_line(aes(x=N,
y=percent,
group = comparison,
linetype = comparison,
colour = comparison),
size=0.75) +
labs(title="Small Effects") +
coord_cartesian(ylim = c(0,101)) +
ylab("Percent Agreement") +
xlab("log(N)") +
cleanup +
geom_point(data=agree_small,
aes(x = N,
y = percent,
shape = comparison),
size = 4) +
scale_linetype_manual(name = "Comparison",
labels = c(".05", ".005"),
values=c("solid","solid")) +
scale_color_manual(name = "Comparison",
labels = c(".05", ".005"),
values = c("gray50","gray50")) +
scale_shape_manual(name = "Comparison",
labels = c(".05", ".005"),
values = c(3, 4))
agree_none = subset(agreelong, effect == "None")
w4 = ggplot(agree_none) +
geom_line(aes(x=N,
y=percent,
group = comparison,
linetype = comparison,
colour = comparison),
size=0.75) +
labs(title="Negligible Effects") +
coord_cartesian(ylim = c(0,101)) +
ylab("Percent Agreement") +
xlab("log(N)") +
cleanup +
geom_point(data=agree_none,
aes(x = N,
y = percent,
shape = comparison),
size = 4) +
scale_linetype_manual(name = "Comparison",
labels = c(".05", ".005"),
values=c("solid","solid")) +
scale_color_manual(name = "Comparison",
labels = c(".05", ".005"),
values = c("gray50","gray50")) +
scale_shape_manual(name = "Comparison",
labels = c(".05", ".005"),
values = c(3, 4))
####put the graphs together####
legend = get_legend(w1)
wrow <- plot_grid( w4 + theme(legend.position="none"),
w3 + theme(legend.position="none"),
w2 + theme(legend.position="none"),
w1 + theme(legend.position=c(.6,.25)),
hjust = -1,
nrow = 2
)
wrow
agreelong = melt(agree_together,
id = c("effect", "N"))
colnames(agreelong)[3:4] = c("comparison", "percent")
##just omnibus tests
agreelong = subset(agreelong, comparison != "omnibus.05" &
comparison != "omnibus.005")
agreelong$comparison = factor(agreelong$comparison,
levels = c("onetotwo.05", "twotothree.05",
"onetotwo.005", "twotothree.005"),
labels = c("1-2 .05", "2-3 .05",
"1-2 .005", "2-3 .005"))
agree_large = subset(agreelong, effect == "Large")
w11 = ggplot(agree_large) +
geom_line(aes(x=N,
y=percent,
group = comparison,
linetype = comparison,
colour = comparison),
size=0.75) +
labs(title="Large Effects") +
coord_cartesian(ylim = c(0,101)) +
ylab("Percent Agreement") +
xlab("log(N)") +
cleanup +
geom_point(data=agree_large,
aes(x = N,
y = percent,
shape = comparison),
size = 4) +
scale_linetype_manual(name = "Comparison",
values=c("solid", "solid","dashed", "dashed")) +
scale_color_manual(name = "Comparison",
values = c("gray50","gray50","gray", "gray")) +
scale_shape_manual(name = "Comparison",
values = c(3, 4, 3, 4))
agree_medium = subset(agreelong, effect == "Medium")
w21 = ggplot(agree_medium) +
geom_line(aes(x=N,
y=percent,
group = comparison,
linetype = comparison,
colour = comparison),
size=0.75) +
labs(title="Medium Effects") +
coord_cartesian(ylim = c(0,101)) +
ylab("Percent Agreement") +
xlab("log(N)") +
cleanup +
geom_point(data=agree_medium,
aes(x = N,
y = percent,
shape = comparison),
size = 4) +
scale_linetype_manual(name = "Comparison",
values=c("solid", "solid","dashed", "dashed")) +
scale_color_manual(name = "Comparison",
values = c("gray50","gray50","gray", "gray")) +
scale_shape_manual(name = "Comparison",
values = c(3, 4, 3, 4))
agree_small = subset(agreelong, effect == "Small")
w31 = ggplot(agree_small) +
geom_line(aes(x=N,
y=percent,
group = comparison,
linetype = comparison,
colour = comparison),
size=0.75) +
labs(title="Small Effects") +
coord_cartesian(ylim = c(0,101)) +
ylab("Percent Agreement") +
xlab("log(N)") +
cleanup +
geom_point(data=agree_small,
aes(x = N,
y = percent,
shape = comparison),
size = 4) +
scale_linetype_manual(name = "Comparison",
values=c("solid", "solid","dashed", "dashed")) +
scale_color_manual(name = "Comparison",
values = c("gray50","gray50","gray", "gray")) +
scale_shape_manual(name = "Comparison",
values = c(3, 4, 3, 4))
agree_none = subset(agreelong, effect == "None")
w41 = ggplot(agree_none) +
geom_line(aes(x=N,
y=percent,
group = comparison,
linetype = comparison,
colour = comparison),
size=0.75) +
labs(title="Negligible Effects") +
coord_cartesian(ylim = c(0,101)) +
ylab("Percent Agreement") +
xlab("log(N)") +
cleanup +
geom_point(data=agree_none,
aes(x = N,
y = percent,
shape = comparison),
size = 4) +
scale_linetype_manual(name = "Comparison",
values=c("solid", "solid","dashed", "dashed")) +
scale_color_manual(name = "Comparison",
values = c("gray50","gray50","gray", "gray")) +
scale_shape_manual(name = "Comparison",
values = c(3, 4, 3, 4))
####put the graphs together####
legend = get_legend(w11)
wrow1 <- plot_grid( w41 + theme(legend.position="none"),
w31 + theme(legend.position="none"),
w21 + theme(legend.position="none"),
w11 + theme(legend.position=c(.6,.25)),
hjust = -1,
nrow = 2
)
wrow1
comparedata = read.csv("overall_sims_shiny.csv")
comparedata$N = factor(comparedata$N)
##deal with Inf BF values
large = length(unique(comparedata$overallBF))
comparedata$overallBF[is.infinite(comparedata$overallBF)] = sort(unique(comparedata$overallBF))[large-1]
comparedata$overallBF = log(comparedata$overallBF)
##create starred oomchance values
comparedata$star = as.factor(as.numeric(comparedata$oomchance <=.05))
##select only none data
comparenone = subset(comparedata, stdev == 11.5)
comparemed = subset(comparedata, stdev == .5)
pccbfnone = ggplot(comparenone, aes(oompcc, overallBF)) +
cleanup +
geom_point(data = comparenone, aes(shape = star, size = N, color = N)) +
xlab("OOM PCC Value") +
ylab("log(Bayes Factor)") +
scale_shape_manual(name = "c-Value",
labels = c(">.05", "<=.05"),
values = c(16,4)) +
scale_color_grey() +
labs(title="Negligible Effects")
pccbfmed = ggplot(comparemed, aes(oompcc, overallBF)) +
cleanup +
geom_point(data = comparemed, aes(shape = star, size = N, color = N)) +
xlab("OOM PCC Value") +
ylab("log(Bayes Factor)") +
scale_shape_manual(name = "c-Value",
labels = c(">.05", "<=.05"),
values = c(16,4)) +
scale_color_grey() +
labs(title="Medium Effects")
pccpnone = ggplot(comparenone, aes(oompcc, omniP)) +
cleanup +
geom_point(data = comparenone, aes(shape = star, size = N, color = N)) +
xlab("OOM PCC Value") +
ylab("p-Value") +
scale_shape_manual(name = "c-Value",
labels = c(">.05", "<=.05"),
values = c(16,4)) +
scale_color_grey() +
labs(title="Negligible Effects")
pccpmed = ggplot(comparemed, aes(oompcc, omniP)) +
cleanup +
geom_point(data = comparemed, aes(shape = star, size = N, color = N)) +
xlab("OOM PCC Value") +
ylab("p-Value") +
scale_shape_manual(name = "c-Value",
labels = c(">.05", "<=.05"),
values = c(16,4)) +
scale_color_grey() +
labs(title="Medium Effects")
pccgraph <- plot_grid( pccbfnone + theme(legend.position="none"),
pccbfmed + theme(legend.position="none"),
pccpnone + theme(legend.position="none"),
pccpmed + theme(legend.position=c(.8,.60)),
hjust = -1,
nrow = 2)
pccgraph
pccgraph
pccpmed + theme(legend.position=c(.8,.60))
pccpmed + theme(legend.position=c(.8,.50))
pccbfmed
summary(comparemed)
summary(comparenone)
comparedata = read.csv("overall_sims_shiny.csv")
comparedata$N = factor(comparedata$N)
##deal with Inf BF values
large = length(unique(comparedata$overallBF))
comparedata$overallBF[is.infinite(comparedata$overallBF)] = sort(unique(comparedata$overallBF))[large-1]
comparedata$overallBF = log(comparedata$overallBF)
##create starred oomchance values
comparedata$star = as.factor(as.numeric(comparedata$oomchance <=.05))
##select only none data
comparenone = subset(comparedata, stdev == 11.5)
comparemed = subset(comparedata, stdev == .5)
pccbfnone = ggplot(comparenone, aes(oompcc, overallBF)) +
cleanup +
geom_point(data = comparenone, aes(shape = star, size = N, color = N)) +
xlab("OOM PCC Value") +
ylab("log(Bayes Factor)") +
scale_shape_manual(name = "c-Value",
labels = c(">.05", "<=.05"),
values = c(16,4)) +
scale_color_grey() +
labs(title="Negligible Effects") +
coord_cartesian(ylim = c(-5, 500))
pccbfmed = ggplot(comparemed, aes(oompcc, overallBF)) +
cleanup +
geom_point(data = comparemed, aes(shape = star, size = N, color = N)) +
xlab("OOM PCC Value") +
ylab("log(Bayes Factor)") +
scale_shape_manual(name = "c-Value",
labels = c(">.05", "<=.05"),
values = c(16,4)) +
scale_color_grey() +
labs(title="Medium Effects") +
coord_cartesian(ylim = c(-5, 500))
pccpnone = ggplot(comparenone, aes(oompcc, omniP)) +
cleanup +
geom_point(data = comparenone, aes(shape = star, size = N, color = N)) +
xlab("OOM PCC Value") +
ylab("p-Value") +
scale_shape_manual(name = "c-Value",
labels = c(">.05", "<=.05"),
values = c(16,4)) +
scale_color_grey() +
labs(title="Negligible Effects")
pccpmed = ggplot(comparemed, aes(oompcc, omniP)) +
cleanup +
geom_point(data = comparemed, aes(shape = star, size = N, color = N)) +
xlab("OOM PCC Value") +
ylab("p-Value") +
scale_shape_manual(name = "c-Value",
labels = c(">.05", "<=.05"),
values = c(16,4)) +
scale_color_grey() +
labs(title="Medium Effects")
pccgraph <- plot_grid( pccbfnone + theme(legend.position="none"),
pccbfmed + theme(legend.position="none"),
pccpnone + theme(legend.position="none"),
pccpmed + theme(legend.position=c(.8,.50)),
hjust = -1,
nrow = 2)
pccgraph
pccgraph
devtools::install_github("trinker/numform")
#devtools::install_github("trinker/numform")
library(numform)
pccpmed = ggplot(comparemed, aes(oompcc, omniP)) +
cleanup +
geom_point(data = comparemed, aes(shape = star, size = N, color = N)) +
xlab("OOM PCC Value") +
ylab("p-Value") +
scale_shape_manual(name = "c-Value",
labels = c(">.05", "<=.05"),
values = c(16,4)) +
scale_color_grey() +
labs(title="Medium Effects") +
scale_y_continuous(labels = numform::ff_num(zero = 0))
pccpmed
pccbfnone = ggplot(comparenone, aes(oompcc, overallBF)) +
cleanup +
geom_point(data = comparenone, aes(shape = star, size = N, color = N)) +
xlab("OOM PCC Value") +
ylab("log(Bayes Factor)") +
scale_shape_manual(name = "c-Value",
labels = c(">.05", "<=.05"),
values = c(16,4)) +
scale_color_grey() +
labs(title="Negligible Effects") +
scale_x_continuous(labels = numform::ff_num(zero = 0))
pccbfnone
pccbfnone = ggplot(comparenone, aes(oompcc, overallBF)) +
cleanup +
geom_point(data = comparenone, aes(shape = star, size = N, color = N)) +
xlab("OOM PCC Value") +
ylab("log(Bayes Factor)") +
scale_shape_manual(name = "c-Value",
labels = c(">.05", "<=.05"),
values = c(16,4)) +
scale_color_grey() +
labs(title="Negligible Effects") +
scale_x_continuous(labels = numform::ff_num(zero = 0))
pccbfmed = ggplot(comparemed, aes(oompcc, overallBF)) +
cleanup +
geom_point(data = comparemed, aes(shape = star, size = N, color = N)) +
xlab("OOM PCC Value") +
ylab("log(Bayes Factor)") +
scale_shape_manual(name = "c-Value",
labels = c(">.05", "<=.05"),
values = c(16,4)) +
scale_color_grey() +
labs(title="Medium Effects") +
scale_x_continuous(labels = numform::ff_num(zero = 0))
pccpnone = ggplot(comparenone, aes(oompcc, omniP)) +
cleanup +
geom_point(data = comparenone, aes(shape = star, size = N, color = N)) +
xlab("OOM PCC Value") +
ylab("p-Value") +
scale_shape_manual(name = "c-Value",
labels = c(">.05", "<=.05"),
values = c(16,4)) +
scale_color_grey() +
labs(title="Negligible Effects") +
scale_y_continuous(labels = numform::ff_num(zero = 0)) +
scale_x_continuous(labels = numform::ff_num(zero = 0))
pccpmed = ggplot(comparemed, aes(oompcc, omniP)) +
cleanup +
geom_point(data = comparemed, aes(shape = star, size = N, color = N)) +
xlab("OOM PCC Value") +
ylab("p-Value") +
scale_shape_manual(name = "c-Value",
labels = c(">.05", "<=.05"),
values = c(16,4)) +
scale_color_grey() +
labs(title="Medium Effects") +
scale_y_continuous(labels = numform::ff_num(zero = 0)) +
scale_x_continuous(labels = numform::ff_num(zero = 0))
pccgraph <- plot_grid( pccbfnone + theme(legend.position="none"),
pccpnone + theme(legend.position="none"),
pccbfmed + theme(legend.position="none"),
pccpmed + theme(legend.position=c(.8,.50)),
hjust = -1,
nrow = 2)
pccgraph
